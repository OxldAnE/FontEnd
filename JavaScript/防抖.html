<!doctype html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport'
          content='width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0'>
    <meta http-equiv='X-UA-Compatible' content='ie=edge'>
    <link href='#' rel='shortcut icon' />
    <title>index</title>
</head>
<body>

<button>提交</button>

<script>
  const B = document.querySelector('button')
  let i = 0

  function f () {
    console.log(i++)
  }

  /* 点击事件共享定时器
   * 每次点击先取消定时器，再添加定时器 */
  function g (f, s) {
    let timer
    return function () {
      clearTimeout(timer)
      timer = setTimeout(() => f(), s)
    }
  }

  B.addEventListener('click', g(f, 500))
</script>
</body>
</html>
